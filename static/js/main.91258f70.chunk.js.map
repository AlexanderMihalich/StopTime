{"version":3,"sources":["components/Header/Header.module.scss","assets/img/logo.png","components/Header/Header.js","components/Header/HeaderContainer.js","assets/img/background.jpg","components/Background/Background.js","state/app-reducer.js","components/common/PreloaderApp/PreloaderApp.js","hoc/withSuspense.js","components/Navbar/Navbar.js","App.js","state/store.js","index.js","state/auth-reducer.js","components/Background/Background.module.scss","assets/img/loader.svg","state/profile-reducer.js","api/api.js","state/dialogs-reducer.js","utils/object-helpers.js","assets/img/user/1.jpg","assets/img/user/2.jpg","assets/img/user/3.jpg","assets/img/user/4.jpg","assets/img/user/5.jpg","assets/img/user/6.jpg","assets/img/user/7.jpg","assets/img/user/8.jpg","assets/img/user/9.jpg","state/users-reducer.js"],"names":["module","exports","Header","isAuth","login","logout","className","style","header","cn","header__content","header__logo","header__stop","alt","src","logo","header__img","header__user","header__rowUser","onClick","header__btn","to","compose","connect","state","auth","Background","background","background__img","backgroundImage","INITIALIZED_SUCCES","initialState","initialized","appReducer","action","type","PreloaderApp","preloader","withSuspense","Component","props","Suspense","fallback","Navbar","clickActive","setState","isActive","this","activeClassName","id","data-name","xmlns","viewBox","fill","d","ProfileContainer","React","lazy","DialogsContainer","UsersContainer","Login","Error404","App","initializeApp","HeaderContainer","exact","path","render","app","dispatch","promise","getAuthUserData","Promise","all","then","reducers","combineReducers","profilePage","profileReducer","messagesPage","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","userId","email","captchaUrl","setAuthUserData","captcha","payload","getCaptchaUrlSuccess","a","authAPI","me","responce","data","resultCode","password","rememberMe","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","posts","img","profile","status","photos","addPost","newPostText","setUserStatus","getUserProfile","profileAPI","getProfile","getUserStatus","getStatus","updateUserStatus","updateStatus","savePhoto","file","saveProfile","getState","reject","newPost","instance","axios","withCredentials","baseURL","headers","get","put","photoFile","formData","FormData","append","usersAPI","getUsers","currentPage","pageSize","buttonUnfollow","delete","buttonFollow","post","SEND_MESSAGE","dialogs","user","avatar","newMessage","sms","newMessageText","sendMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalItemsCount","isFetching","followingInPropgress","userBackground","img1","img2","img3","img4","img5","img6","img7","img8","img9","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toogleFolowingProgress","requestUsers","totalCount","count","followUnfollow","aipMethod","actionCreator","unfollow","bind","follow","followed","filter"],"mappings":"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","file":"static/js/main.91258f70.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__f3zV9\",\"header__content\":\"Header_header__content__2Sj7J\",\"header__stop\":\"Header_header__stop__2Xq6A\",\"header__logo\":\"Header_header__logo__C57T9\",\"header__img\":\"Header_header__img__3ncl5\",\"header__user\":\"Header_header__user__3Bq2k\",\"header__rowUser\":\"Header_header__rowUser__3d_Si\",\"header__btn\":\"Header_header__btn__3G0Sy\"};","export default __webpack_public_path__ + \"static/media/logo.a88228e2.png\";","import React from 'react'\r\nimport style from './Header.module.scss'\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from '../../assets/img/logo.png'\r\nimport cn from 'classnames';\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={cn(style.header__content, \"_container\")}>\r\n\t\t\t\t<div className={style.header__logo} >\r\n\t\t\t\t\t<div className={style.header__stop}>\r\n\t\t\t\t\t\tSt<span><img alt=\"\" src={logo} className={style.header__img} />p</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<sub>time</sub>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={style.header__user}>\r\n\t\t\t\t\t{isAuth\r\n\t\t\t\t\t\t? <div className={style.header__rowUser}><span> {login}</span> <button onClick={logout} className={style.header__btn}>Log out</button> </div>\r\n\t\t\t\t\t\t: <NavLink to={'/login'} >Login</NavLink>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header","import { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { compose } from 'redux';\r\nimport { logout } from '../../state/auth-reducer';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login\r\n\t}\r\n}\r\nexport default compose(connect(mapStateToProps, { logout }))(Header)","export default __webpack_public_path__ + \"static/media/background.f3d3da61.jpg\";","import React from 'react'\r\nimport style from './Background.module.scss'\r\nimport backgroundImage from '../../assets/img/background.jpg'\r\n\r\n\r\nconst Background = () => {\r\n\treturn (\r\n\t\t<div className={style.background}>\r\n\t\t\t<img alt=\"\" className={style.background__img} src={backgroundImage} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Background\r\n","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES'\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: INITIALIZED_SUCCES })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tconst promise = dispatch(getAuthUserData())\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSucces())\r\n\t})\r\n}\r\n\r\nexport default appReducer","import React from 'react'\r\nimport preloader from '../../../assets/img/loader.svg'\r\nimport './PreloaderApp.css'\r\n\r\nlet PreloaderApp = () => {\r\n\treturn (\r\n\t\t<div className='preloaderApp'>\r\n\t\t\t<img alt=\"\" src={preloader} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PreloaderApp","import React from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<div>Loading ...</div>}>\r\n\t\t\t<Component />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './Navbar.scss'\r\nimport cn from 'classnames';\r\n\r\nclass Navbar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { isActive: false };\r\n\t}\r\n\tclickActive = () => {\r\n\t\tthis.setState(state => ({\r\n\t\t\tisActive: !state.isActive\r\n\t\t}))\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<nav className={this.state.isActive === true ? cn(\"nav\", \"_active\") : \"nav\"}>\r\n\t\t\t\t\t<ul className=\"nav__list\">\r\n\t\t\t\t\t\t<li><NavLink to={'/profile'} activeClassName=\"nav_active\">Profile</NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={'/dialogs'} activeClassName=\"nav_active\">Messages</NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={'/users'} activeClassName=\"nav_active\">Users</NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={'/_'} activeClassName=\"nav_active\">Example Error</NavLink></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\t\t\t\t<div className={this.state.isActive === true ? cn(\"nav__array\", \"_active\") : \"nav__array\"}>\r\n\t\t\t\t\t{/* <img src={arrayImage} alt=\"\"  /> */}\r\n\t\t\t\t\t<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\" fill=\"#664796\" onClick={this.clickActive}>\r\n\t\t\t\t\t\t<path className=\"cls-1\" d=\"M82.28,140.5A5,5,0,0,1,78.75,132l32.18-32.19L78.75,67.59a5,5,0,0,1,7.07-7.07l35.72,35.73a5,5,0,0,1,0,7.07L85.82,139A5,5,0,0,1,82.28,140.5Z\" />\r\n\t\t\t\t\t\t<path className=\"cls-1\" d=\"M154.15,175.69H45.85a21.57,21.57,0,0,1-21.54-21.54V45.85A21.57,21.57,0,0,1,45.85,24.31h108.3a21.57,21.57,0,0,1,21.54,21.54v108.3A21.57,21.57,0,0,1,154.15,175.69ZM45.85,34.31A11.56,11.56,0,0,0,34.31,45.85v108.3a11.56,11.56,0,0,0,11.54,11.54h108.3a11.56,11.56,0,0,0,11.54-11.54V45.85a11.56,11.56,0,0,0-11.54-11.54Z\" />\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react';\nimport './assets/css/fonts.css';\nimport './assets/css/null.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Background from './components/Background/Background';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp } from './state/app-reducer';\nimport PreloaderApp from './components/common/PreloaderApp/PreloaderApp';\nimport { withSuspense } from './hoc/withSuspense';\nimport Navbar from './components/Navbar/Navbar';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst Login = React.lazy(() => import('./components/Login/Login'))\nconst Error404 = React.lazy(() => import('./components/Error404/Error404'))\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp()\n\t}\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <PreloaderApp />\n\t\t}\n\t\treturn (\n\t\t\t<HashRouter>\n\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t<main className='page'>\n\t\t\t\t\t\t<Background />\n\t\t\t\t\t\t<div className='page__content _container'>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path='/'\n\t\t\t\t\t\t\t\t\trender={() => <Redirect to='/profile' />} />\n\t\t\t\t\t\t\t\t<Route path='/profile/:userId?'\n\t\t\t\t\t\t\t\t\trender={withSuspense(ProfileContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/dialogs'\n\t\t\t\t\t\t\t\t\trender={withSuspense(DialogsContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/users'\n\t\t\t\t\t\t\t\t\trender={withSuspense(UsersContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/login'\n\t\t\t\t\t\t\t\t\trender={withSuspense(Login)} />\n\t\t\t\t\t\t\t\t<Route path='*'\n\t\t\t\t\t\t\t\t\trender={withSuspense(Error404)} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t</HashRouter >\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\nexport default compose(\n\tconnect(mapStateToProps, { initializeApp }))(App)\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store\r\nwindow.store = store\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.scss';\nimport App from './App';\nimport store from './state/store'\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>, document.getElementById('root'));\n\n\n","import { authAPI, securityAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth-reducer/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth-reducer/GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth, captcha) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth, captcha } })\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tconst responce = await authAPI.me()\r\n\tif (!responce.data.resultCode) {\r\n\t\tlet { id, email, login } = responce.data.data\r\n\t\tdispatch(setAuthUserData(id, email, login, true))\r\n\t}\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tconst responce = await authAPI.login(email, password, rememberMe, captcha)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif (responce.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl())\r\n\t\t}\r\n\t\tlet message = responce.data.messages.length > 0 ? responce.data.messages[0] : \"incorrect email or password\"\r\n\t\tdispatch(stopSubmit(\"login\", { _error: message }))\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tconst responce = await securityAPI.getCaptchaUrl()\r\n\tconst captchaUrl = responce.data.url\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tconst responce = await authAPI.logout()\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\n\r\nexport default authReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Background_background__11SzE\"};","export default __webpack_public_path__ + \"static/media/loader.dcd6327c.svg\";","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api';\r\nlet ADD_POST = 'profile-reducer/ADD-POST'\r\nlet SET_USER_PROFILE = 'profile-reducer/SET_USER_PROFILE'\r\nlet SET_USER_STATUS = 'profile-reducer/SET_USER_STATUS'\r\nlet SAVE_PHOTO_SUCCESS = 'profile-reducer/SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, img: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', message: \"It's our new program! Hey!\", },\r\n\t\t{ id: 2, img: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', message: \"Hey, why nobody love my?\", },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: '',\r\n\tphotos: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 3,\r\n\t\t\t\timg: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg',\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn { ...state, profile: action.profile }\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn { ...state, status: action.status }\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: { ...state.profile, photos: action.photos }\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tconst responce = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(responce.data))\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tconst responce = await profileAPI.getStatus(userId)\r\n\tdispatch(setUserStatus(responce.data))\r\n}\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst responce = await profileAPI.updateStatus(status)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setUserStatus(status))\r\n\t}\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tconst responce = await profileAPI.savePhoto(file)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(savePhotoSuccess(responce.data.data.photos))\r\n\t}\r\n}\r\nexport const saveProfile = (data) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId\r\n\tconst responce = await profileAPI.saveProfile(data)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getUserProfile(userId))\r\n\t} else {\r\n\t\tdispatch(stopSubmit(\"edit-profile\", { _error: responce.data.messages[0] }))\r\n\t\treturn Promise.reject(responce.data.messages[0])\r\n\t}\r\n}\r\n\r\nexport default profileReducer","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": \"48f3010c-f192-4caf-b70c-1358b38c2366\"\r\n\t}\r\n})\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {\r\n\t\t\tstatus: status\r\n\t\t})\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', photoFile)\r\n\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tsaveProfile(data) {\r\n\t\treturn instance.put(`profile`, data)\r\n\t},\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonUnfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonFollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`, {})\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t},\r\n}\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`)\r\n\t}\r\n}","let SEND_MESSAGE = 'dialogs-reducer/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, user: 'Stiven', avatar: 'https://debaty.sumy.ua/wp-content/uploads/2019/01/9_main_new.1506602508.jpg', },\r\n\t\t{ id: 2, user: 'Victor', avatar: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', },\r\n\t\t{ id: 3, user: 'Makar', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/avatar-scaled-2560.jpg', },\r\n\t\t{ id: 4, user: 'Irma', avatar: 'https://sahiwal.tv/wp-content/uploads/2020/06/af4471294d3829d55ac2bedd3b91f4670206ef7d.png', },\r\n\t\t{ id: 5, user: 'Sveta', avatar: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', },\r\n\t\t{ id: 6, user: 'Valera', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/mv5bmjixnti1mta0m15bml5banbnxkftztcwnzc3mtuzna._v1_sx1777_cr001777999_al_.jpg', },\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hi!', },\r\n\t\t{ id: 2, message: 'How is your study?', },\r\n\t\t{ id: 3, message: 'Yo', },\r\n\t\t{ id: 4, message: 'What Sapp', },\r\n\t\t{ id: 5, message: 'How are you', },\r\n\t\t{ id: 6, message: 'Welcome!', },\r\n\t],\r\n\tnewMessage: [\r\n\t\t{ id: 1, sms: 'It\\'s new sms!', },\r\n\t],\r\n\tnewMessageText: '',\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewMessage: [...state.newMessage, { id: 2, sms: action.newMessageText, }],\r\n\t\t\t\tnewMessageText: ''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const sendMessage = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText })\r\n\r\nexport default dialogsReducer\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps }\r\n\t\t}\r\n\t\treturn u\r\n\t})\r\n}","export default __webpack_public_path__ + \"static/media/1.0a5732c1.jpg\";","export default __webpack_public_path__ + \"static/media/2.704d39c3.jpg\";","export default __webpack_public_path__ + \"static/media/3.8c78ebbc.jpg\";","export default __webpack_public_path__ + \"static/media/4.69943f40.jpg\";","export default __webpack_public_path__ + \"static/media/5.7082deaa.jpg\";","export default __webpack_public_path__ + \"static/media/6.350a4334.jpg\";","export default __webpack_public_path__ + \"static/media/7.8e56ff43.jpg\";","export default __webpack_public_path__ + \"static/media/8.15e2cb49.jpg\";","export default __webpack_public_path__ + \"static/media/9.fc2c4131.jpg\";","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\nimport img1 from '../assets/img/user/1.jpg'\r\nimport img2 from '../assets/img/user/2.jpg'\r\nimport img3 from '../assets/img/user/3.jpg'\r\nimport img4 from '../assets/img/user/4.jpg'\r\nimport img5 from '../assets/img/user/5.jpg'\r\nimport img6 from '../assets/img/user/6.jpg'\r\nimport img7 from '../assets/img/user/7.jpg'\r\nimport img8 from '../assets/img/user/8.jpg'\r\nimport img9 from '../assets/img/user/9.jpg'\r\n\r\nlet FOLLOW = 'users-reducer/FOLLOW'\r\nlet UNFOLLOW = 'users-reducer/UNFOLLOW'\r\nlet SET_USERS = 'users-reducer/SET_USERS'\r\nlet SET_CURRENT_PAGE = 'users-reducer/SET_CURRENT_PAGE'\r\nlet SET_USERS_TOTAL_COUNT = 'users-reducer/SET_USERS_TOTAL_COUNT'\r\nlet TOGGLE_IS_FETCHING = 'users-reducer/TOGGLE_IS_FETCHING'\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'users-reducer/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalItemsCount: 0,\r\n\tcurrentPage: 2,\r\n\tisFetching: true,\r\n\tfollowingInPropgress: [],\r\n\tuserBackground: [\r\n\t\t{ img: img1 },\r\n\t\t{ img: img2 },\r\n\t\t{ img: img3 },\r\n\t\t{ img: img4 },\r\n\t\t{ img: img5 },\r\n\t\t{ img: img6 },\r\n\t\t{ img: img7 },\r\n\t\t{ img: img8 },\r\n\t\t{ img: img9 },\r\n\t]\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users }\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.currentPage }\r\n\t\tcase SET_USERS_TOTAL_COUNT:\r\n\t\t\treturn { ...state, totalItemsCount: action.count }\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, followingInPropgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInPropgress, action.userId]\r\n\t\t\t\t\t: state.followingInPropgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setItemsTotalCount = (totalItemsCount) => ({ type: SET_USERS_TOTAL_COUNT, count: totalItemsCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toogleFolowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true))\r\n\tconst data = await usersAPI.getUsers(currentPage, pageSize)\r\n\tdispatch(toggleIsFetching(false))\r\n\tdispatch(setUsers(data.items))\r\n\tdispatch(setItemsTotalCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollow = async (dispatch, userId, aipMethod, actionCreator) => {\r\n\tdispatch(toogleFolowingProgress(true, userId))\r\n\tconst data = await aipMethod(userId)\r\n\tif (!data.resultCode) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toogleFolowingProgress(false, userId))\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonUnfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonFollow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport default usersReducer"],"sourceRoot":""}