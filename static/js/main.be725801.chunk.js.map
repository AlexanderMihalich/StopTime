{"version":3,"sources":["components/Header/Header.module.scss","assets/img/logo.png","components/Header/Header.js","components/Header/HeaderContainer.js","assets/img/background.jpg","components/Background/Background.js","state/app-reducer.js","components/common/PreloaderApp/PreloaderApp.js","hoc/withSuspense.js","components/Navbar/Navbar.js","App.js","state/store.js","index.js","state/auth-reducer.js","selectors/auth-selectors.js","components/Background/Background.module.scss","assets/img/loader.svg","api/api.js","state/profile-reducer.js","state/dialogs-reducer.js","utils/object-helpers.js","assets/img/user/1.jpg","assets/img/user/2.jpg","assets/img/user/3.jpg","assets/img/user/4.jpg","assets/img/user/5.jpg","assets/img/user/6.jpg","assets/img/user/7.jpg","assets/img/user/8.jpg","assets/img/user/9.jpg","state/users-reducer.js"],"names":["module","exports","Header","isAuth","login","logout","className","style","header","cn","header__content","header__logo","header__stop","alt","src","logo","header__img","header__login","header__rowUser","header__user","onClick","header__btn","to","compose","connect","state","getIsAuth","getLogin","Background","background","background__img","backgroundImage","INITIALIZED_SUCCES","initialState","initialized","appReducer","action","type","PreloaderApp","preloader","withSuspense","Component","props","Suspense","fallback","Navbar","clickActive","setState","isActive","this","activeClassName","id","data-name","xmlns","viewBox","fill","d","ProfileContainer","React","lazy","DialogsContainer","UsersContainer","Login","Error404","App","initializeApp","HeaderContainer","exact","path","render","app","dispatch","promise","getAuthUserData","Promise","all","then","reducers","combineReducers","profilePage","profileReducer","messagesPage","dialogsReducer","usersPage","usersReducer","auth","authReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","userId","email","captchaUrl","setAuthUserData","captcha","payload","getCaptchaUrlSuccess","a","authAPI","me","responce","data","resultCode","password","rememberMe","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","getCaptchaUrlState","getUserId","instance","axios","withCredentials","baseURL","headers","profileAPI","getProfile","get","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","usersAPI","getUsers","currentPage","pageSize","buttonUnfollow","delete","buttonFollow","post","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","posts","img","profile","photos","addPost","newPostText","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","file","getState","reject","newPost","SEND_MESSAGE","dialogs","user","avatar","newMessage","sms","newMessageText","sendMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalItemsCount","isFetching","followingInPropgress","userBackground","img1","img2","img3","img4","img5","img6","img7","img8","img9","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toogleFolowingProgress","requestUsers","totalCount","count","followUnfollow","aipMethod","actionCreator","unfollow","bind","follow","followed","filter"],"mappings":"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","file":"static/js/main.be725801.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__f3zV9\",\"header__content\":\"Header_header__content__2Sj7J\",\"header__stop\":\"Header_header__stop__2Xq6A\",\"header__logo\":\"Header_header__logo__C57T9\",\"header__img\":\"Header_header__img__3ncl5\",\"header__login\":\"Header_header__login__3S9ak\",\"header__rowUser\":\"Header_header__rowUser__3d_Si\",\"header__btn\":\"Header_header__btn__3G0Sy\"};","export default __webpack_public_path__ + \"static/media/logo.a88228e2.png\";","import React from 'react'\r\nimport style from './Header.module.scss'\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from '../../assets/img/logo.png'\r\nimport cn from 'classnames';\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={cn(style.header__content, \"_container\")}>\r\n\t\t\t\t<div className={style.header__logo} >\r\n\t\t\t\t\t<div className={style.header__stop}>\r\n\t\t\t\t\t\tSt<span><img alt=\"\" src={logo} className={style.header__img} />p</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<sub>time</sub>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={style.header__login}>\r\n\t\t\t\t\t{isAuth\r\n\t\t\t\t\t\t? <div className={style.header__rowUser}><span className={style.header__user}> {login}</span> <button onClick={logout} className={style.header__btn}>Log out</button> </div>\r\n\t\t\t\t\t\t: <NavLink to={'/login'} >Login</NavLink>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header","import { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { compose } from 'redux';\r\nimport { logout } from '../../state/auth-reducer';\r\nimport { getIsAuth, getLogin } from '../../selectors/auth-selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: getIsAuth(state),\r\n\t\tlogin: getLogin(state)\r\n\t}\r\n}\r\nexport default compose(connect(mapStateToProps, { logout }))(Header)","export default __webpack_public_path__ + \"static/media/background.f3d3da61.jpg\";","import React from 'react'\r\nimport style from './Background.module.scss'\r\nimport backgroundImage from '../../assets/img/background.jpg'\r\n\r\n\r\nconst Background = () => {\r\n\treturn (\r\n\t\t<div className={style.background}>\r\n\t\t\t<img alt=\"\" className={style.background__img} src={backgroundImage} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Background\r\n","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES'\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: INITIALIZED_SUCCES })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tconst promise = dispatch(getAuthUserData())\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSucces())\r\n\t})\r\n}\r\n\r\nexport default appReducer","import React from 'react'\r\nimport preloader from '../../../assets/img/loader.svg'\r\nimport './PreloaderApp.scss'\r\n\r\nlet PreloaderApp = () => {\r\n\treturn (\r\n\t\t<div className='preloaderApp'>\r\n\t\t\t<img alt=\"\" src={preloader} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PreloaderApp","import React from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<div>Loading ...</div>}>\r\n\t\t\t<Component />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './Navbar.scss'\r\nimport cn from 'classnames';\r\n\r\nclass Navbar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { isActive: false };\r\n\t}\r\n\tclickActive = () => {\r\n\t\tthis.setState(state => ({\r\n\t\t\tisActive: !state.isActive\r\n\t\t}))\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<nav className={this.state.isActive === true ? cn(\"nav\", \"_active\") : \"nav\"}>\r\n\t\t\t\t\t<ul className=\"nav__list\">\r\n\t\t\t\t\t\t<li><NavLink to={'/profile'} activeClassName=\"nav_active\">Profile</NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={'/dialogs'} activeClassName=\"nav_active\">Messages</NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={'/users'} activeClassName=\"nav_active\">Users</NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={'/_'} activeClassName=\"nav_active\">Example Error</NavLink></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\t\t\t\t<div className={this.state.isActive === true ? cn(\"nav__array\", \"_active\") : \"nav__array\"}>\r\n\t\t\t\t\t{/* <img src={arrayImage} alt=\"\"  /> */}\r\n\t\t\t\t\t<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\" fill=\"#664796\" onClick={this.clickActive}>\r\n\t\t\t\t\t\t<path className=\"cls-1\" d=\"M82.28,140.5A5,5,0,0,1,78.75,132l32.18-32.19L78.75,67.59a5,5,0,0,1,7.07-7.07l35.72,35.73a5,5,0,0,1,0,7.07L85.82,139A5,5,0,0,1,82.28,140.5Z\" />\r\n\t\t\t\t\t\t<path className=\"cls-1\" d=\"M154.15,175.69H45.85a21.57,21.57,0,0,1-21.54-21.54V45.85A21.57,21.57,0,0,1,45.85,24.31h108.3a21.57,21.57,0,0,1,21.54,21.54v108.3A21.57,21.57,0,0,1,154.15,175.69ZM45.85,34.31A11.56,11.56,0,0,0,34.31,45.85v108.3a11.56,11.56,0,0,0,11.54,11.54h108.3a11.56,11.56,0,0,0,11.54-11.54V45.85a11.56,11.56,0,0,0-11.54-11.54Z\" />\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react';\nimport './assets/css/fonts.scss';\nimport './assets/css/null.scss';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Background from './components/Background/Background';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp } from './state/app-reducer';\nimport PreloaderApp from './components/common/PreloaderApp/PreloaderApp';\nimport { withSuspense } from './hoc/withSuspense';\nimport Navbar from './components/Navbar/Navbar';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst Login = React.lazy(() => import('./components/Login/Login'))\nconst Error404 = React.lazy(() => import('./components/Error404/Error404'))\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp()\n\t}\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <PreloaderApp />\n\t\t}\n\t\treturn (\n\t\t\t<HashRouter>\n\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t<main className='page'>\n\t\t\t\t\t\t<Background />\n\t\t\t\t\t\t<div className='page__content _container'>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path='/'\n\t\t\t\t\t\t\t\t\trender={() => <Redirect to='/profile' />} />\n\t\t\t\t\t\t\t\t<Route path='/profile/:userId?'\n\t\t\t\t\t\t\t\t\trender={withSuspense(ProfileContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/dialogs'\n\t\t\t\t\t\t\t\t\trender={withSuspense(DialogsContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/users'\n\t\t\t\t\t\t\t\t\trender={withSuspense(UsersContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/login'\n\t\t\t\t\t\t\t\t\trender={withSuspense(Login)} />\n\t\t\t\t\t\t\t\t<Route path='*'\n\t\t\t\t\t\t\t\t\trender={withSuspense(Error404)} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t</HashRouter >\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\nexport default compose(\n\tconnect(mapStateToProps, { initializeApp }))(App)\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store\r\nwindow.store = store\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.scss';\nimport App from './App';\nimport store from './state/store'\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>, document.getElementById('root'));\n\n\n","import { authAPI, securityAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth-reducer/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth-reducer/GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth, captcha) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth, captcha } })\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tconst responce = await authAPI.me()\r\n\tif (!responce.data.resultCode) {\r\n\t\tlet { id, email, login } = responce.data.data\r\n\t\tdispatch(setAuthUserData(id, email, login, true))\r\n\t}\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tconst responce = await authAPI.login(email, password, rememberMe, captcha)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif (responce.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl())\r\n\t\t}\r\n\t\tlet message = responce.data.messages.length > 0 ? responce.data.messages[0] : \"incorrect email or password\"\r\n\t\tdispatch(stopSubmit(\"login\", { _error: message }))\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tconst responce = await securityAPI.getCaptchaUrl()\r\n\tconst captchaUrl = responce.data.url\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tconst responce = await authAPI.logout()\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\n\r\nexport default authReducer","export const getIsAuth = (state) => {\r\n\treturn state.auth.isAuth\r\n}\r\nexport const getLogin = (state) => {\r\n\treturn state.auth.login\r\n}\r\nexport const getCaptchaUrlState = (state) => {\r\n\treturn state.auth.captchaUrl\r\n}\r\nexport const getUserId = (state) => {\r\n\treturn state.auth.userId\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Background_background__11SzE\"};","export default __webpack_public_path__ + \"static/media/loader.dcd6327c.svg\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": \"3712f6c1-4887-4236-8b7c-a5498a4c0274\"\r\n\t}\r\n})\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {\r\n\t\t\tstatus: status\r\n\t\t})\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', photoFile)\r\n\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tsaveProfile(data) {\r\n\t\treturn instance.put(`profile`, data)\r\n\t},\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonUnfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonFollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`, {})\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t},\r\n}\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`)\r\n\t}\r\n}","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api';\r\n\r\nlet ADD_POST = 'profile-reducer/ADD-POST'\r\nlet SET_USER_PROFILE = 'profile-reducer/SET_USER_PROFILE'\r\nlet SET_USER_STATUS = 'profile-reducer/SET_USER_STATUS'\r\nlet SAVE_PHOTO_SUCCESS = 'profile-reducer/SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, img: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', message: \"It's our new program! Hey!\", },\r\n\t\t{ id: 2, img: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', message: \"Hey, why nobody love my?\", },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: '',\r\n\tphotos: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 3,\r\n\t\t\t\timg: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg',\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn { ...state, profile: action.profile }\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn { ...state, status: action.status }\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: { ...state.profile, photos: action.photos }\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tconst responce = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(responce.data))\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tconst responce = await profileAPI.getStatus(userId)\r\n\tdispatch(setUserStatus(responce.data))\r\n}\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst responce = await profileAPI.updateStatus(status)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setUserStatus(status))\r\n\t}\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tconst responce = await profileAPI.savePhoto(file)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(savePhotoSuccess(responce.data.data.photos))\r\n\t}\r\n}\r\nexport const saveProfile = (data) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId\r\n\tconst responce = await profileAPI.saveProfile(data)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getUserProfile(userId))\r\n\t} else {\r\n\t\tdispatch(stopSubmit(\"edit-profile\", { _error: responce.data.messages[0] }))\r\n\t\treturn Promise.reject(responce.data.messages[0])\r\n\t}\r\n}\r\n\r\nexport default profileReducer","let SEND_MESSAGE = 'dialogs-reducer/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, user: 'Stiven', avatar: 'https://debaty.sumy.ua/wp-content/uploads/2019/01/9_main_new.1506602508.jpg', },\r\n\t\t{ id: 2, user: 'Victor', avatar: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', },\r\n\t\t{ id: 3, user: 'Makar', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/avatar-scaled-2560.jpg', },\r\n\t\t{ id: 4, user: 'Irma', avatar: 'https://sahiwal.tv/wp-content/uploads/2020/06/af4471294d3829d55ac2bedd3b91f4670206ef7d.png', },\r\n\t\t{ id: 5, user: 'Sveta', avatar: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', },\r\n\t\t{ id: 6, user: 'Valera', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/mv5bmjixnti1mta0m15bml5banbnxkftztcwnzc3mtuzna._v1_sx1777_cr001777999_al_.jpg', },\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hi!', },\r\n\t\t{ id: 2, message: 'How is your study?', },\r\n\t\t{ id: 3, message: 'Yo', },\r\n\t\t{ id: 4, message: 'What Sapp', },\r\n\t\t{ id: 5, message: 'How are you', },\r\n\t\t{ id: 6, message: 'Welcome!', },\r\n\t],\r\n\tnewMessage: [\r\n\t\t{ id: 1, sms: 'It\\'s new sms!', },\r\n\t],\r\n\tnewMessageText: '',\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewMessage: [...state.newMessage, { id: 2, sms: action.newMessageText, }],\r\n\t\t\t\tnewMessageText: ''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const sendMessage = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText })\r\n\r\nexport default dialogsReducer\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps }\r\n\t\t}\r\n\t\treturn u\r\n\t})\r\n}","export default __webpack_public_path__ + \"static/media/1.0a5732c1.jpg\";","export default __webpack_public_path__ + \"static/media/2.704d39c3.jpg\";","export default __webpack_public_path__ + \"static/media/3.8c78ebbc.jpg\";","export default __webpack_public_path__ + \"static/media/4.69943f40.jpg\";","export default __webpack_public_path__ + \"static/media/5.7082deaa.jpg\";","export default __webpack_public_path__ + \"static/media/6.350a4334.jpg\";","export default __webpack_public_path__ + \"static/media/7.8e56ff43.jpg\";","export default __webpack_public_path__ + \"static/media/8.15e2cb49.jpg\";","export default __webpack_public_path__ + \"static/media/9.fc2c4131.jpg\";","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\nimport img1 from '../assets/img/user/1.jpg'\r\nimport img2 from '../assets/img/user/2.jpg'\r\nimport img3 from '../assets/img/user/3.jpg'\r\nimport img4 from '../assets/img/user/4.jpg'\r\nimport img5 from '../assets/img/user/5.jpg'\r\nimport img6 from '../assets/img/user/6.jpg'\r\nimport img7 from '../assets/img/user/7.jpg'\r\nimport img8 from '../assets/img/user/8.jpg'\r\nimport img9 from '../assets/img/user/9.jpg'\r\n\r\nlet FOLLOW = 'users-reducer/FOLLOW'\r\nlet UNFOLLOW = 'users-reducer/UNFOLLOW'\r\nlet SET_USERS = 'users-reducer/SET_USERS'\r\nlet SET_CURRENT_PAGE = 'users-reducer/SET_CURRENT_PAGE'\r\nlet SET_USERS_TOTAL_COUNT = 'users-reducer/SET_USERS_TOTAL_COUNT'\r\nlet TOGGLE_IS_FETCHING = 'users-reducer/TOGGLE_IS_FETCHING'\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'users-reducer/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalItemsCount: 0,\r\n\tcurrentPage: 2,\r\n\tisFetching: true,\r\n\tfollowingInPropgress: [],\r\n\tuserBackground: [\r\n\t\t{ img: img1 },\r\n\t\t{ img: img2 },\r\n\t\t{ img: img3 },\r\n\t\t{ img: img4 },\r\n\t\t{ img: img5 },\r\n\t\t{ img: img6 },\r\n\t\t{ img: img7 },\r\n\t\t{ img: img8 },\r\n\t\t{ img: img9 },\r\n\t]\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users }\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.currentPage }\r\n\t\tcase SET_USERS_TOTAL_COUNT:\r\n\t\t\treturn { ...state, totalItemsCount: action.count }\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, followingInPropgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInPropgress, action.userId]\r\n\t\t\t\t\t: state.followingInPropgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setItemsTotalCount = (totalItemsCount) => ({ type: SET_USERS_TOTAL_COUNT, count: totalItemsCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toogleFolowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true))\r\n\tconst data = await usersAPI.getUsers(currentPage, pageSize)\r\n\tdispatch(toggleIsFetching(false))\r\n\tdispatch(setUsers(data.items))\r\n\tdispatch(setItemsTotalCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollow = async (dispatch, userId, aipMethod, actionCreator) => {\r\n\tdispatch(toogleFolowingProgress(true, userId))\r\n\tconst data = await aipMethod(userId)\r\n\tif (!data.resultCode) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toogleFolowingProgress(false, userId))\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonUnfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonFollow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport default usersReducer"],"sourceRoot":""}